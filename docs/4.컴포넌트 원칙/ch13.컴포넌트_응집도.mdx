---
sidebar_position: 2
---

# 13장 컴포넌트 응집도

- 어떤 클래스를 어느 컴포넌트에 포함시켜야 할까?
- 컴포넌트의 응집도와 관련된 세 가지 원칙을 논의해보자.

## 13-1. REP: 재사용/릴리스 등가 원칙

> 재사용 단위는 릴리스 단위와 같다.
> 
- 소프트웨어 재사용의 시대에 살고있는 우리에게 이 원칙은 너무나 당연해보인다.
- 소프트웨어 컴포넌트가 릴리스 절차를 통해 추적 관리되지 않거나 릴리스 번호가 부여되지 않는다면 해당 컴포넌트를 재사용하고 싶어도 할 수도 없고 하지도 않을 것이다.
- 릴리스 번호가 없다면 재사용 컴포넌트들이 서로 호환되는지 보증할 방법이 없으며, 새로운 버전이 언제 출시되고 무엇이 변했는지를 개발자들이 알아야 한다.
- 즉, 단일 컴포넌트는 응집성 높은 클래스와 모듈들로 구성되어야 함을 뜻한다.
- 컴포넌트를 구성하는 모든 모듈은 서로 공유하는 주용한 테마나 목적이 있어야 한다.
- 하나의 컴포넌트로 묶인 클래스와 모듈은 반드시 함께 릴리스 할 수 있어야 한다.

## 13-2. CCP: 공통 폐쇄 원칙 Common Closure Principle

> 동일한 이유로 동일한 시점에 변경되는 클래스를 같은 컴포넌트로 묶어라. 서로 다른 시점에 다른 이유로 변경되는 클래스는 다른 컴포넌트로 분리하라.
> 
- 이 원칙은 단일책임원칙 SRP을 컴포넌트 관점에서 다시 쓴 것이다.
- 변경이 여러 컴포넌트 도처에 분산되어 발생하기 보다는, 차라리 변경 모두가 단일 컴포넌트에서 발생하는 편이 낫다.
- 변경을 단일 컴포넌트로 제한할 수 있따면 해당 컴포넌트만 재배포하면 되며, 변경된 컴포넌트에 의존하지 않는 다른 컴포넌트는 다시 검증하거나 배포할 필요가 없다.
- CCP는 같은 이유로 변경될 가능성이 있는 클래스는 모두 한 곳으로 묶을 것을 권한다.

## 13-3. CRP: 공통 재사용 원칙 Common Reuse Principle

> 컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라.
> 
- CRP에서는 같이 재사용되는 경향이 있는 클래스와 모듈들은 같은 컴포넌트에 포함해야 한다고 말한다.
- 대체로 재사용 가능한 클래스는 재사용 모듈의 일부로써 해당 모듈의 다른 클래스와 상호작용 하는 경우가 많다. CRP에서는 이런 클래스들이 동일한 컴포넌트에 포함되어야 한다고 말한다.
- 사용하는 컴포넌트는 사용되는 컴포넌트에 의존하며, 이 같은 의존성으로 인해 사용되는 컴포넌트가 변경될 때마다 사용하는 컴포넌트도 변경해야 할 가능성이 높다.
- 사용하는 컴포넌트를 변경하지 않더라고 재컴파일, 재검증, 재배포를 해야하는 가능성은 여전히 남아있다.
- 따라서 의존하는 컴포넌트가 있따면 해당 컴포넌트의 모든 클래스에 대해 의존함을 확실히 인지해야한다.

## 13-4. 컴포넌트 응집도에 대한 균형 다이어그램

- 이 응집도에 대한 세 원칙은 서로 상충된다.
- REP와 CCP는 포함inclusive원칙이며, 두 원칙은 컴포넌트를 더욱 크게 만든다.
- CRP는 배제 exclusive원칙이며, 컴포넌트를 더욱 작게 만든다.
- 뛰어난 아키텍트라면 이 균형 삼각형에서 개발팀이 현재 관심을 기울이는 부분을 충족시키는 위치를 찾아야 하며, 또한 시간이 흐르면서 개발팀이 주의를 기울이는 부분도 변한다는 사실을 이해해야한다.

![[https://velog.io/@yy0867/Clean-Architecture]](https://velog.velcdn.com/images%2Fyy0867%2Fpost%2F4a280419-7ee0-45e8-85fa-335bc16e91e8%2Fimage.png)

[https://velog.io/@yy0867/Clean-Architecture](https://velog.io/@yy0867/Clean-Architecture)

- 일반적으로, 프로젝트는 삼각형의 오른쪽에서 시작하는 편이며, 이때는 오직 재사용성만 희생하면 된다. 프로젝트가 성숙하고 그 프로젝트로부터 파생된 다른 프로젝트가 시작되면 프로젝트는 삼각형에서 점차 왼쪽으로 이동해간다.

## 13-5. 결론

- 컴포넌트 응집도에 관한 세가지 원칙은 응집도가 가질 수 있는 훨씬 복잡한 다양성을 설명해 준다.
- 어느 클래스를 묶어서 컴포넌트로 만들지를 결정할 때, 재사용성과 개발 가능성이라는 상충하는 힘을 반드시 고려해야 한다.
- 시간이 흐름에 따라 프로젝트의 초점이 개발가능성에서 ‘재사용성’으로 바뀌고, 그에 따라 컴포넌트를 구성하는 방식도 조금씩 흐트러지고 진화하고 있다.
