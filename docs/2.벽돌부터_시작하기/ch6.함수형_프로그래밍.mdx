---
sidebar_position: 4
---

# 6장 함수형 프로그래밍

- 이 패러다임의 핵심이 되는기반은 lamda 계산법으로 Alonzo Church가 1930년대에 발명했다.

## 6-1. 정수를 제곱하기

- 자바 프로그램은 가변 변수 mutable variable를 사용하는데, 가변변수는 프로그램 실행 중에 상태가 변할 수 있다. 클로저 프로그램에서는 이러한 가변 변수가 전혀 없다. 클로저에서는 x와 같은 변수가 한번 초기화되면 절대로 변하지 않는다.

## 6-2. 불변성과 아키텍처

- 동시성 애플리케이션에서 마주치는 모든 문제, 즉 다수의 스레드와 프로세스를 사용하는 애플리케이션에서 마주치는 모든 문제는 가변 변수가 없다면 절대로 생기지 않는다.
- 이 불변성은 실현 가능하나, 일종의 타협이 필요하다.

## 6-3. 가변성의 분리

- 가장 주요한 타협중 하나는 애플리케이션 또는 애플리케이션 내부의 서비스를 ‘가변 컴포넌트'와 ‘불변 컴포넌트'로 분리하는 일이다.
- 불변 컴포넌트에서는 순수하게 함수형 방식으로만 작업이 처리되며, 어떤 가변 변수도 사용되지 않는다.
- 현명한 아키텍처라면 가능한 한 많은 처리를 불변 컴포넌트로 옮겨야 하고, 가변 컴포넌트에서는 가능한 한 많은 코드를 뺴내야 한다.

## 6-4. 이벤트 소싱

- 이벤트소싱 event sourcing은 ‘상태'가 아닌 ‘트랜잭션 자체를 저장'하자는 전략이다. 상태가 필요해지면, 단순히 상태에 시작점부터 모든 트랜잭션을 처리한다.
- 이 전략은 아마 저장공간이 많이 필요할 것이다. 그러나 우리 시대는 저장공간을 충분히 확보할 수 있다. 더 중요한 점은 데이터 저장소에서 삭제되거나 변경되는 것이 하나도 없다는 사실이다. 데이터 저장소에서 변경과 삭제가 전혀 발생하지 않으므로 동시 업데이트 문제 또한 일어나지 않는다.
- 저장공간과 처리능력이 충분하면 애플리케이션이 완전한 불변성을 갖도록 만들 수 있고 따라서 완전한 함수형으로 만들 수 있다. 소스 코드 버전관리 시스템이 정확히 이 방식으로 동작한다.

## 6-5. 결론

- 구조적 프로그래밍은 ‘제어 흐름의 직접적인 전환에 부과되는 규율이다.
- 객체지향 프로그래밍은 제어흐름의 간접적인 전환에 부과되는 규율이다.
- 함수형 프로그래밍은 변수 할당에 부과되는 규율이다.

- 도구는 달라지고 하드웨어도 변하지만, 소프트웨어의 핵심은 여전히 그대로이다.
- 소프트웨어, 즉 컴퓨터 프로그램은 순차, 분기, 반복, 참조로 구성되며 그 이상도 이하도 아니다.
