---
sidebar_position: 3
---

# 32장 프레임워크는 세부사항이다

- 프레임워크는 아키텍처가 될 수 없다.

## 32-1. 프레임워크 제작자

- 프레임워크 제작자는 자신이 해결해야 할 고유한 문제나 다른 사람이 가진 문제들을 알고, 해결하기 위해 프레임워크를 만든다.

## 32-2. 혼인 관계의 비대칭성

- 프레임워크 사용자와 프레임워크 제작자 사이의 관계는 비대칭적이다.
- 프레임워크 문서에서는
  - 사용자가 만들 소프트웨어와 프레임워크를 어떻게 통합할 수 있지 조언한다.
  - 프레임워크를 중심에 두고 사용자의 아키텍처는 그 바깥을 감싸야 한다고 한다.
  - 프레임워크 기반 클래스에서 직접 파생하거나 기능들을 업무 객체에 바로 import해서 사용하다고 권한다.
- 프레임워크 제작자는 아키텍처의 결합이 위험 요소가 되지 않기 때문이다.
- 프레임워크 제작자는 사용자에게 프레임워크가 혼인하기를 요구한다. 하지만 혼인 관계는 일방적이고 헌신하지 않는다. 위험부담은 사용자가 감수한다.

## 32-3. 위험 요인

### 32-3-1. 프레임워크의 아키텍처는 깔끔하지 않다.

- 의존성 규칙을 위반하는 경향이 있다.
- 업무 객체를 만들 때 즉, 고유한 엔티티를 만들때 프레임워크의 코드를 상속할 것을 요구한다.
- 프레임워크는 가장 안쪽 원과 결합되기를 원한다.
- 프레임워크가 한번 안으로 들어가면 다시는 원 밖으로 나오지 않는다.

### 32-3-2. 프레임워크는 초기 기능을 만드는 데는 도움이 된다.

- 하지만 제품이 성숙해지면 프레임워크 제공 기능과 틀을 벗어나게 된다.

### 32-3-3. 프레임워크는 도움되지 않는 방향을 진화할 수도 있다.

- 도움이 되지 않는 신규 버전으로 업그레이드하여 업무에 방해가 된다.
- 사용 중이던 기능이 사라지거나 반영할 수 없게 변경될 수도 있다.
- 새로운 프레임워크가 등장에 갈아타고 싶을 수도 있다.

## 32-4. 해결책

- 프레임워크에 의존하지 말아야 하고 적당한 거리를 두어야 한다.
- 세부사항으로 취급해야 한다.
- 업무 객체를 만들 때 프레임워크가 사용자 기반 클래스로부터 파생하기를 요구한다면 프락시를 만들고,
  업무 규칙에 플러그인할 수 있는 컴포넌트에 이 플락시를 위치시켜야 한다.
- 프레임워크가 핵심 코드 안으로 들어오지 못하게 해야 한다. 핵심 코드에 플러그인할 수 있는 컴포넌트에 프레임워크를 통합하고, 의존성 규칙을 준수해야 한다.
- 스프링을 사용한다면 업무 객체보다는 메인 컴포넌트에서 스프링을 사용하여 의존성을 주입하는 게 좋다.
  - 메인은 아키텍처 내에서 가장 지저분한 최저 수준의 컴포넌트이기 때문에 스프링을 알아도 상관 없다.

## 32-5. 이제 선언합니다

- C++을 사용한다면 STL 사용은 불가피하다.
- 자바를 사용한다면 표준 라이브러리 사용은 불가피하다.
- 하지만 이러한 관계는 선택적이여야 한다.

## 32-6. 결론

- 프레임워크를 가능한 한 오랫동안 아키텍처 경계 넘어에 둬야한다.
