---
sidebar_position: 1
---

# 30장 데이터베이스는 세부사항이다

- 데이터베이스는 엔티티가 아니다. 즉, 세부사항이 아니므로 아키텍처의 구성요소 수준으로 끌어올릴 수 없다.
- 데이터베이스는 데이터에 접근할 방법을 제공하는 유틸리티다.

## 30-1. 관계형 데이터베이스

- 관계형 테이블은 특정 형식의 데이터에 접근하는 경우에는 편리하지만,
  데이터를 테이블에 행 단위로 배치한다는 자체는 아키텍처적으로 전혀 중요하지 않다.
  - 애플리케이션의 유스케이스는 이러한 방식을 알아서도 관여해서도 안 된다.
  - 데이터가 테이블 구조를 가진다는 사실은 유틸리티 함수(최하위 수준, 외부 원에 위치)만 알아야 한다.
- 많은 데이터 접근 프레임워크가 테이블과 행이 객체 형태로 시스템에 돌아다니게 허용하지만 이는 잘못된 설계이다.
  - 이렇게 하면 유스케이스, 업무 규칙, UI조차 관계형 데이터 구조에 결합되어 버린다.

## 30-2. 데이터베이스 시스템은 왜 이렇게 널리 사용되는가?

- 오라클, MySQL, SQL 서버가 우위를 차지할 수 있던 이유는 **'디스크'** 때문
- 디스크는 느리기 때문에, 색인, 캐시, 쿼리 계획 최적화가 필요해졌다.
- 어떤 데이터인지 알 수 있게 하기 위해, 데이터를 표현하는 방식이 필요해짐에따라
  데이터 접근 및 관리 시스템이 필요했다.
  - 이 시스템은 파일 시스템, 관계형 데이터베이스 관리 시스템으로 분리
- 파일 시스템: 문서기반. 문서 전체를 편리하게 저장하는 방법을 제공
  - 장점: 이름을 기준으로 검색할 때는 최적화
  - 단점: 내용기준으로 검색할 때는 도움되지 않음. 시간이 오래걸림.
- 관계형 데이터베이스: 내용 기반. 내용 기반으로 레코드를 편리하게 찾는 방법을 제공
  - 장점: 레코드가 공유하는 일부 내용에 기반해 다수의 레코드를 연관 짓는 데 탁월
  - 단점: 정형화되지 않은 문서를 저장하고 검색하는 데는 부적합.
- 두 시스템은 데이터를 디스크에 체계화해서 각 시스템의 방법으로 접근해야 효율적으로 데이터를 저장 및 검색가능.

## 30-3. 디스크가 없다면 어떻게 될까?

- 디스크는 소멸중이고, RAM으로 대체되고 있다.
- 모든 데이터가 RAM에 저장된다면?
  - 데이터들을 연결 리스트, 트리, 해시 테이블, 스택, 규 등의 데이터 구조로 체계화
- 데이터가 데이터베이스나 파일 시스템에 있더라도 RAM으로 읽은 후에는 다루기 편리한 형태(리스트, 집한, 스택, 큐, 트리 등)로 구조를 변경한다.

## 30-4. 세부사항

- 데이터베이스가 세부사항이라고 말하는 이유는 그저 메커니즘에 불과하기 때문이다.
- 데이터베이스는 비트를 담는 거대한 그릇, 데이터를 장기적으로 저장하는 공간일뿐이다.

## 30-5. 하지만 성능은?

- 데이터 저장소의 측면에서 성능은 완전히 캡슐화하여 업무 규칙과는 분리할 수 있는 관심사이다.
- 하지만 이는 저수준의 관심사이다.
- 성능은 시스템의 전반적인 아키텍처와 아무런 관련이 없다.

## 30-6. 결론

- 체계화된 데이터 구조와 데이터 모델은 아키텍처적으로 중요하다.
- 하지만, 이 기술과 시스템은 아키텍처적으로 중요하지 않다.
- 데이터는 중요하다. 데이터베이슨느 세부사항이다.
